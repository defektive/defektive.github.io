<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://defektive.github.io/blog/random/><link rel=alternate type=application/rss+xml href=https://defektive.github.io/blog/random/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Random | defektive</title><meta name=description content="Maybe useful information that I will forget"><meta property="og:url" content="https://defektive.github.io/blog/random/"><meta property="og:site_name" content="defektive"><meta property="og:title" content="Random"><meta property="og:description" content="Maybe useful information that I will forget"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Random"><meta itemprop=description content="Maybe useful information that I will forget"><meta itemprop=dateModified content="2024-08-28T12:25:06-06:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Random"><meta name=twitter:description content="Maybe useful information that I will forget"><link rel=preload href=/scss/main.min.2c2aa5b99b2faf3ebd0cf39fe5b9f3440594b322ae2526dc5170f396748812b3.css as=style integrity="sha256-LCqluZsvrz69DPOf5bnzRAWUsyKuJSbcUXDzlnSIErM=" crossorigin=anonymous><link href=/scss/main.min.2c2aa5b99b2faf3ebd0cf39fe5b9f3440594b322ae2526dc5170f396748812b3.css rel=stylesheet integrity="sha256-LCqluZsvrz69DPOf5bnzRAWUsyKuJSbcUXDzlnSIErM=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><script>window.addEventListener("load",function(){let t=document.getElementById("td-section-nav"),e=t.querySelector(`a[href$='${window.location.pathname}']`);console.log("scroll to sidebar link",e),e&&(t.scrollTo(e),t.scrollTop=e.offsetTop-100)})</script></head><body class="td-section td-blog"><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>defektive</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/about/><span>About</span></a></li><li class=nav-item><a class=nav-link href=/docs/><span>How To</span></a></li><li class=nav-item><a class="nav-link active" href=/blog/><span>Blog</span></a></li><li class="td-light-dark-menu nav-item dropdown"><svg class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)">
<svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.a90a917b044f86bb09bfea9eb36e5d2b.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 ps-md-5 pe-md-4" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/blog/random/>Return to the regular view of this page</a>.</p></div><h1 class=title>Random</h1><ul><li><a href=#pg-019f3adfe279de56e595807151b7f817>Publish Flutter App to Google Play Using GitHub Actions</a></li><li><a href=#pg-a9668a6a3768610221c29a17a9e2fdae>Adventures in Python</a></li><li><a href=#pg-6450e3e1177659efdbc713be6dd5bdec>Packer, Ubuntu Noble, and VirtualBox</a></li><li><a href=#pg-d3e4ba80125501c198e4949ebab1526f>SaintCON Training</a></li><li><a href=#pg-4ba4d4a3d8be7f13459047fc673e1ea7>Curl Resolve DNS through Proxy</a></li><li><a href=#pg-ea88254750b3d18a1b10c9e34d6327b6>Cloud metadata URLs</a></li><li><a href=#pg-200f4fd023d281e4dc885a54d7065b1b>PfSense and SELKS</a></li><li><a href=#pg-bedcd0bf481611e391cd63b36eceee65>Anyproxy Intercept</a></li><li><a href=#pg-e89abb39cf9e3bca4bbf008f0d5b30b9>Random shell scripting things I may use in the future</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-019f3adfe279de56e595807151b7f817>Publish Flutter App to Google Play Using GitHub Actions</h1><div class=lead>Embracing continuous delivery</div><div class="td-byline mb-4"><time datetime=2025-10-31 class=text-body-secondary>Friday, October 31, 2025</time></div><p>I have been wanting to do more mobile app development and streamline the release process for a while now. I read a few things on how to publish to the Play Store with GitHub actions, but I kept running into issues. I&rsquo;ll try to document what the issues were and how I was able to get past them.</p><p>I am using <a href=https://github.com/r0adkll/upload-google-play>https://github.com/r0adkll/upload-google-play</a> to publish actions. To make testing easier, I used <a href=https://github.com/nektos/act>https://github.com/nektos/act</a> to run my GitHub actions locally. I used the largest docker image, since the other ones didn&rsquo;t seem to have what I needed for Android builds.</p><h3 id=first-issue-error-unknown-error-occurred>First Issue <code>Error: Unknown error occurred.</code><a class=td-heading-self-link href=#first-issue-error-unknown-error-occurred aria-label="Heading self-link"></a></h3><p>The first issue I ran into was: <code>Error: Unknown error occurred.</code>. There a few issues filed about this error. The consensus is to check that your are referencing your secrets with the appropriate variable names and config options.</p><p>I checked out the <a href=https://github.com/r0adkll/upload-google-play>https://github.com/r0adkll/upload-google-play</a> repo and manually invoked <code>lib/index.js</code> to quickly test my configs worked.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/r0adkll/upload-google-play.git  
</span></span></code></pre></div><p>I had to dig into how actions are executed and how the arguments are passed to the action. It turns out, they all become environment variables prefixed with <code>INPUT_</code>. My invocation looked something like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>INPUT_PACKAGENAME</span><span class=o>=</span>example.package.name <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>INPUT_TRACK</span><span class=o>=</span>production <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>INPUT_SERVICEACCOUNTJSONPLAINTEXT</span><span class=o>=</span><span class=k>$(</span>cat ~/Downloads/google-cloud-credentials.json <span class=p>|</span> jq -c<span class=k>)</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>INPUT_STATUS</span><span class=o>=</span>completed <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>INPUT_RELEASEFILES</span><span class=o>=</span><span class=nv>$HOME</span>/flutter-project-dir/build/app/outputs/flutter-apk/app-release.apk <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>INPUT_DEBUG</span><span class=o>=</span><span class=m>1</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>node lib/index.js 
</span></span></code></pre></div><p>This helped me confirm/determine my secrets were being referenced incorrectly.</p><h3 id=second-issue-you-cannot-rollout-this-release-because-it-does-not-allow-any-existing-users-to-upgrade-to-the-newly-added-apks>Second Issue <code>You cannot rollout this release because it does not allow any existing users to upgrade to the newly added APKs.</code><a class=td-heading-self-link href=#second-issue-you-cannot-rollout-this-release-because-it-does-not-allow-any-existing-users-to-upgrade-to-the-newly-added-apks aria-label="Heading self-link"></a></h3><p>This one didn&rsquo;t make sense, so I switched to doing a draft release. So I could inspect the release from the Play Console. Turns out that my efforts to support WearOS made it so I could not support Android phones. This meant none of the android phones using my app would not be able to upgrade to the new version. So I ended up reverting my app support for WearOS. I&rsquo;ll have to figure out how to support watches and phones later.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a9668a6a3768610221c29a17a9e2fdae>Adventures in Python</h1><div class=lead>Attempting to embrace Python</div><div class="td-byline mb-4"><time datetime=2025-01-09 class=text-body-secondary>Thursday, January 09, 2025</time></div><p>I try to like python. I really do. I attempt to use it and be like all the other cool people. Sadly, I am a dumb python noob. I see an import like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>Crypto.Cipher</span> <span class=kn>import</span> <span class=n>AES</span>
</span></span></code></pre></div><p>Cool, lets install the <code>crypto</code> pacakge&mldr;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install crypto
</span></span></code></pre></div><p>It returns <code>command not found: pip</code>, fair enough. I am not a python dev, my environment isn&rsquo;t setup. Lets run the module.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python3 -m pip install crypto
</span></span></code></pre></div><p>More errors:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>error: externally-managed-environment
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>× This environment is externally managed
</span></span><span class=line><span class=cl>╰─&gt; To install Python packages system-wide, try brew install
</span></span><span class=line><span class=cl>    xyz, where xyz is the package you are trying to
</span></span><span class=line><span class=cl>    install.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    If you wish to install a Python library that isn&#39;t in Homebrew,
</span></span><span class=line><span class=cl>    use a virtual environment:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    python3 -m venv path/to/venv
</span></span><span class=line><span class=cl>    source path/to/venv/bin/activate
</span></span><span class=line><span class=cl>    python3 -m pip install xyz
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    If you wish to install a Python application that isn&#39;t in Homebrew,
</span></span><span class=line><span class=cl>    it may be easiest to use &#39;pipx install xyz&#39;, which will manage a
</span></span><span class=line><span class=cl>    virtual environment for you. You can install pipx with
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    brew install pipx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    You may restore the old behavior of pip by passing
</span></span><span class=line><span class=cl>    the &#39;--break-system-packages&#39; flag to pip, or by adding
</span></span><span class=line><span class=cl>    &#39;break-system-packages = true&#39; to your pip.conf file. The latter
</span></span><span class=line><span class=cl>    will permanently disable this error.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    If you disable this error, we STRONGLY recommend that you additionally
</span></span><span class=line><span class=cl>    pass the &#39;--user&#39; flag to pip, or set &#39;user = true&#39; in your pip.conf
</span></span><span class=line><span class=cl>    file. Failure to do this can result in a broken Homebrew installation.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    Read more about this behavior here: &lt;https://peps.python.org/pep-0668/&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
</span></span><span class=line><span class=cl>hint: See PEP 668 for the detailed specification.
</span></span></code></pre></div><p>Ok, I guess venv&rsquo;s are no longer a suggestion and instead a way of life.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir -p  ~/python-sucks/venv-for-crypto
</span></span><span class=line><span class=cl>python3 -m venv  ~/python-sucks/venv-for-crypto
</span></span><span class=line><span class=cl><span class=nb>source</span> ~/python-sucks/venv-for-crypto/bin/activate
</span></span></code></pre></div><p>hey it works!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>Collecting crypto
</span></span><span class=line><span class=cl>  Using cached crypto-1.4.1-py2.py3-none-any.whl.metadata (3.4 kB)
</span></span><span class=line><span class=cl>Collecting Naked (from crypto)
</span></span><span class=line><span class=cl>  Using cached Naked-0.1.32-py2.py3-none-any.whl.metadata (931 bytes)
</span></span><span class=line><span class=cl>Collecting shellescape (from crypto)
</span></span><span class=line><span class=cl>  Using cached shellescape-3.8.1-py2.py3-none-any.whl.metadata (2.8 kB)
</span></span><span class=line><span class=cl>Collecting requests (from Naked-&gt;crypto)
</span></span><span class=line><span class=cl>  Using cached requests-2.32.3-py3-none-any.whl.metadata (4.6 kB)
</span></span><span class=line><span class=cl>Collecting pyyaml (from Naked-&gt;crypto)
</span></span><span class=line><span class=cl>  Using cached PyYAML-6.0.2-cp313-cp313-macosx_11_0_arm64.whl.metadata (2.1 kB)
</span></span><span class=line><span class=cl>Collecting charset-normalizer&lt;4,&gt;=2 (from requests-&gt;Naked-&gt;crypto)
</span></span><span class=line><span class=cl>  Using cached charset_normalizer-3.4.1-cp313-cp313-macosx_10_13_universal2.whl.metadata (35 kB)
</span></span><span class=line><span class=cl>Collecting idna&lt;4,&gt;=2.5 (from requests-&gt;Naked-&gt;crypto)
</span></span><span class=line><span class=cl>  Using cached idna-3.10-py3-none-any.whl.metadata (10 kB)
</span></span><span class=line><span class=cl>Collecting urllib3&lt;3,&gt;=1.21.1 (from requests-&gt;Naked-&gt;crypto)
</span></span><span class=line><span class=cl>  Using cached urllib3-2.3.0-py3-none-any.whl.metadata (6.5 kB)
</span></span><span class=line><span class=cl>Collecting certifi&gt;=2017.4.17 (from requests-&gt;Naked-&gt;crypto)
</span></span><span class=line><span class=cl>  Using cached certifi-2024.12.14-py3-none-any.whl.metadata (2.3 kB)
</span></span><span class=line><span class=cl>Using cached crypto-1.4.1-py2.py3-none-any.whl (18 kB)
</span></span><span class=line><span class=cl>Using cached Naked-0.1.32-py2.py3-none-any.whl (587 kB)
</span></span><span class=line><span class=cl>Using cached shellescape-3.8.1-py2.py3-none-any.whl (3.1 kB)
</span></span><span class=line><span class=cl>Using cached PyYAML-6.0.2-cp313-cp313-macosx_11_0_arm64.whl (171 kB)
</span></span><span class=line><span class=cl>Using cached requests-2.32.3-py3-none-any.whl (64 kB)
</span></span><span class=line><span class=cl>Using cached certifi-2024.12.14-py3-none-any.whl (164 kB)
</span></span><span class=line><span class=cl>Using cached charset_normalizer-3.4.1-cp313-cp313-macosx_10_13_universal2.whl (195 kB)
</span></span><span class=line><span class=cl>Using cached idna-3.10-py3-none-any.whl (70 kB)
</span></span><span class=line><span class=cl>Using cached urllib3-2.3.0-py3-none-any.whl (128 kB)
</span></span><span class=line><span class=cl>Installing collected packages: shellescape, urllib3, pyyaml, idna, charset-normalizer, certifi, requests, Naked, crypto
</span></span><span class=line><span class=cl>Successfully installed Naked-0.1.32 certifi-2024.12.14 charset-normalizer-3.4.1 crypto-1.4.1 idna-3.10 pyyaml-6.0.2 requests-2.32.3 shellescape-3.8.1 urllib3-2.3.0
</span></span></code></pre></div><p>Lets have some fun and start writing python.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>Crypto.Cipher</span> <span class=kn>import</span> <span class=n>AES</span>
</span></span></code></pre></div><p>Sadness&mldr;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>Traceback (most recent call last):
</span></span><span class=line><span class=cl>  File &#34;&lt;python-input-0&gt;&#34;, line 1, in &lt;module&gt;
</span></span><span class=line><span class=cl>    from Crypto.Cipher import AES
</span></span><span class=line><span class=cl>ModuleNotFoundError: No module named &#39;Crypto&#39;
</span></span></code></pre></div><p>cant find the <code>Crypto</code> module.
oh hey. I am on a mac, I guess i need some special hacks. I seen this in some random code.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>crypto</span>
</span></span><span class=line><span class=cl><span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=p>[</span><span class=s2>&#34;Crypto&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>crypto</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>Crypto.Cipher</span> <span class=kn>import</span> <span class=n>AES</span>
</span></span></code></pre></div><p>More Sadness&mldr;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>Traceback (most recent call last):
</span></span><span class=line><span class=cl>  File &#34;&lt;python-input-5&gt;&#34;, line 1, in &lt;module&gt;
</span></span><span class=line><span class=cl>    from Crypto.Cipher import AES
</span></span><span class=line><span class=cl>ModuleNotFoundError: No module named &#39;Crypto.Cipher&#39;
</span></span></code></pre></div><p>oh, this is for the <code>Crypto.Cipher</code>. Lets look at our package.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ls ~/python-sucks/venv-for-crypto/lib/python3.13/site-packages/crypto
</span></span></code></pre></div><p>hrmm. no cipher folder.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>__init__.py    __pycache__    app.py         decryptoapp.py library        settings.py
</span></span></code></pre></div><p>oh hey. I think I need <code>pycrypto</code> instead of crypto.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python3 -m pip install pycrypto
</span></span></code></pre></div><p>Lets see if it works</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>crypto</span>
</span></span><span class=line><span class=cl><span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=p>[</span><span class=s2>&#34;Crypto&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>crypto</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>Crypto.Cipher</span> <span class=kn>import</span> <span class=n>AES</span>
</span></span></code></pre></div><p>yay! it does. it feels wrong. what did this just do? it installed pycrypto package in the existing crypto folder? yes it did. hooray for case insensitive file systems combined with removing the py prefix on the installed module.</p><p>Lets create a new venv and install the right module.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>mkdir -p  ~/python-sucks/venv-for-crypto-2
</span></span><span class=line><span class=cl>python3 -m venv  ~/python-sucks/venv-for-crypto-2
</span></span><span class=line><span class=cl>source ~/python-sucks/venv-for-crypto-2/bin/activate
</span></span><span class=line><span class=cl>python3 -m pip install pycrypto
</span></span></code></pre></div><p>and finally try just the initial line that started this adventure.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>Crypto.Cipher</span> <span class=kn>import</span> <span class=n>AES</span>
</span></span></code></pre></div><p>Yes! It works the way it should.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6450e3e1177659efdbc713be6dd5bdec>Packer, Ubuntu Noble, and VirtualBox</h1><div class=lead>Adventures with automating VM builds</div><div class="td-byline mb-4"><time datetime=2024-08-31 class=text-body-secondary>Saturday, August 31, 2024</time></div><p>I have been using Packer for quite a while. However, all my interactions have
used JSON instead of HCL. I wanted to set up a new build using HCL, VirtualBox,
and Ubuntu 24.04. I am going to attempt to create documentation for using HCL
with VirtualBox to build a custom image based on the latest Ubuntu LTS release
(with cloud init).</p><p>In my research I found some decent guides that did most of what I wanted. I&rsquo;ll
use these a reference for building my specific use case.</p><ul><li>QEMU: <a href=https://github.com/shantanoo-desai/packer-ubuntu-server-uefi/tree/main>https://github.com/shantanoo-desai/packer-ubuntu-server-uefi/tree/main</a></li><li>VMWare: <a href=https://github.com/ynlamy/packer-ubuntuserver24_04/blob/main/vmware-iso-ubuntuserver24_04.pkr.hcl>https://github.com/ynlamy/packer-ubuntuserver24_04/blob/main/vmware-iso-ubuntuserver24_04.pkr.hcl</a></li></ul><p>The official docs will also come in handy and can be found here: <a href=https://developer.hashicorp.com/packer/integrations/hashicorp/virtualbox>https://developer.hashicorp.com/packer/integrations/hashicorp/virtualbox</a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># virtualbox.pkr.hcl
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>packer</span> {
</span></span><span class=line><span class=cl><span class=n>  required_version</span> <span class=o>=</span><span class=n> &#34;&gt;</span><span class=o>=</span> <span class=m>1</span><span class=p>.</span><span class=m>7</span><span class=p>.</span><span class=m>0</span><span class=err>&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>required_plugins</span> {
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>    virtualbox</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>        version</span> <span class=o>=</span> <span class=s2>&#34;~&gt; 1&#34;</span>
</span></span><span class=line><span class=cl><span class=n>        source</span>  <span class=o>=</span> <span class=s2>&#34;github.com/hashicorp/virtualbox&#34;</span>
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl><span class=n>    ansible</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>      version</span> <span class=o>=</span><span class=n> &#34;&gt;</span><span class=o>=</span> <span class=m>1</span><span class=p>.</span><span class=m>1</span><span class=p>.</span><span class=m>1</span><span class=err>&#34;</span>
</span></span><span class=line><span class=cl><span class=n>      source</span>  <span class=o>=</span> <span class=s2>&#34;github.com/hashicorp/ansible&#34;</span>
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>source</span> <span class=s2>&#34;virtualbox-iso&#34; &#34;packer-vm-ubuntu&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  guest_os_type</span> <span class=o>=</span> <span class=s2>&#34;Ubuntu_64&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  iso_url</span> <span class=o>=</span> <span class=s2>&#34;https://releases.ubuntu.com/noble/ubuntu-24.04-live-server-amd64.iso&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  iso_checksum</span> <span class=o>=</span> <span class=s2>&#34;sha256:8762f7e74e4d64d72fceb5f70682e6b069932deedb4949c6975d0f0fe0a91be3&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  http_directory</span> <span class=o>=</span> <span class=s2>&#34;./http/24.04/&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  ssh_username</span> <span class=o>=</span> <span class=s2>&#34;packer&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  ssh_password</span> <span class=o>=</span> <span class=s2>&#34;packer&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  ssh_timeout</span> <span class=o>=</span> <span class=s2>&#34;10m&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  shutdown_command</span> <span class=o>=</span> <span class=s2>&#34;echo &#39;packer&#39; | sudo -S shutdown -P now&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  headless</span> <span class=o>=</span> <span class=kt>false</span>
</span></span><span class=line><span class=cl><span class=n>  firmware</span> <span class=o>=</span> <span class=s2>&#34;efi&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  boot_command</span> <span class=o>=</span><span class=n> [&#34;e&lt;wait&gt;&lt;down&gt;&lt;down&gt;&lt;down&gt;&lt;end&gt; autoinstall &#39;ds</span><span class=o>=</span><span class=n>nocloud-net;s</span><span class=o>=</span><span class=k>http</span><span class=err>://</span>{{ <span class=p>.</span><span class=k>HTTPIP</span> }}<span class=err>:</span>{{ <span class=p>.</span><span class=k>HTTPPort</span> }}<span class=err>/&#39;&lt;</span><span class=k>F10</span><span class=err>&gt;&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>  boot_wait</span>    <span class=o>=</span> <span class=s2>&#34;5s&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  vboxmanage</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;modifyvm&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;{{.Name}}&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;--memory&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;4096&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;modifyvm&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;{{.Name}}&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;--cpus&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;4&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;modifyvm&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;{{.Name}}&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;--nat-localhostreachable1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;on&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>}<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1># build {
</span></span></span><span class=line><span class=cl><span class=c1>#   sources = [&#34;sources.virtualbox-iso.packer-vm-ubuntu&#34;]
</span></span></span><span class=line><span class=cl><span class=c1>#   
</span></span></span><span class=line><span class=cl><span class=c1>#   provisioner &#34;ansible&#34; {
</span></span></span><span class=line><span class=cl><span class=c1>#     playbook_file = &#34;../../ansible/ubuntu-desktop.yaml&#34;
</span></span></span><span class=line><span class=cl><span class=c1>#   }
</span></span></span><span class=line><span class=cl><span class=c1># }
</span></span></span></code></pre></div><p>I&rsquo;d like to point out a few things. First the <code>http_directory</code> property
specifies a directory to be exposed via HTTP. This will be consumed by
<code>cloud-init</code>. We&rsquo;ll use that to create our initial user.</p><p>In the out <code>http_directory</code> we&rsquo;ll need to create two files.</p><ul><li>meta-data</li><li>user-data</li></ul><p>We&rsquo;ll leave <code>meta-data</code> empty, if it is not there, <code>cloud-init</code> will refuse to
consume our <code>user-data</code> file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c>#cloud-config</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>autoinstall</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>locale</span><span class=p>:</span><span class=w> </span><span class=l>en_US</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>keyboard</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>layout</span><span class=p>:</span><span class=w> </span><span class=l>us</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ssh</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>install-server</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>allow-pw</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>packages</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>zsh</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>updates</span><span class=p>:</span><span class=w> </span><span class=l>all</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>late-commands</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      if [ -d /sys/firmware/efi ]; then
</span></span></span><span class=line><span class=cl><span class=sd>        apt-get install -y efibootmgr
</span></span></span><span class=line><span class=cl><span class=sd>        efibootmgr -o $(efibootmgr | perl -n -e &#39;/Boot(.+)\* Ubuntu/ &amp;&amp; print $1&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>      fi</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>user-data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>preserve_hostname</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=l>carbon</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>package_upgrade</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>timezone</span><span class=p>:</span><span class=w> </span><span class=l>UTC</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>users</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>packer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># passwd must be a password hash, you can generate it with `openssl passwd -6 replacewithyourpassword`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>passwd</span><span class=p>:</span><span class=w> </span><span class=l>$6$ZfIbBMQd5rmGTGPk$AWrvIL1v4Xq6jsSR72KsSONa2VpSnr8SZHPDF2l6pNNcQ3HKjqWF2JEBYepl4LnnmzKiKFEcRuf7lfyOMooq50</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>groups</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>adm, cdrom, dip, plugdev, lxd, sudo]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>lock-passwd</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>sudo</span><span class=p>:</span><span class=w> </span><span class=l>ALL=(ALL) NOPASSWD:ALL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class=l>/bin/zsh</span><span class=w>
</span></span></span></code></pre></div><p>Now we should be able to build our VM using VirtualBox.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>packer build virtualbox.pkr.hcl
</span></span></code></pre></div><p>If you have an ansible playbook, you can reference it in the build section.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d3e4ba80125501c198e4949ebab1526f>SaintCON Training</h1><div class="td-byline mb-4"><time datetime=2023-09-30 class=text-body-secondary>Saturday, September 30, 2023</time></div><p>I&rsquo;ve been working on a phishing training for SAINTCON. I used this to brainstorm how I wanted the network laid out.</p><h2 id=network-diagram>Network Diagram<a class=td-heading-self-link href=#network-diagram aria-label="Heading self-link"></a></h2><pre class=mermaid>flowchart TB
wifi--&gt;opnet

subgraph labnet [FakeNet]
    direction TB

    subgraph corpnet [Corp Network]
        subgraph corpnetprod [Production Network]


            smtp[Corporate Web Site]
            www[Corporate Web Site]
            webapp[product]
        end

        subgraph corpnetinternal [Internal Network]

            corpuser[Corp User]
            codehosting[Code Server]

        end

    end


    subgraph wifi [Guest Network]
        operator001(&#34;Operator Physical Machines&#34;)
    end



    subgraph opnet [Op Network]
        op001(&#34;Operations VMs&#34;)
    end


    opnet--&gt;corpnetprod;
    corpnetinternal&lt;--&gt;corpnetprod;

end</pre><h2 id=work-flows>Work Flows<a class=td-heading-self-link href=#work-flows aria-label="Heading self-link"></a></h2><pre class=mermaid>stateDiagram-v2
    [*] --&gt; Onboard
    Onboard --&gt; OSINT
    OSINT --&gt; InfrastructureDev
    InfrastructureDev --&gt; CampaignDevelopment
    CampaignDevelopment --&gt; Test
    Test --&gt; Phish

    state Onboard {
        [*] --&gt; ConnectNet
        ConnectNet --&gt; AccessVM
        AccessVM --&gt; ReadDocs
        ReadDocs --&gt; [*]
    }

    state OSINT {
        [*] --&gt; SearchEngines
        [*] --&gt; CrunchBase
        [*] --&gt; LinkedIn
        [*] --&gt; CodeHosting
        [*] --&gt; DNSRecon
        [*] --&gt; MailServers
        [*] --&gt; LoginPages
        SearchEngines --&gt; [*]
        CrunchBase --&gt; [*]
        LinkedIn --&gt; [*]
        CodeHosting --&gt; [*]
        DNSRecon --&gt; [*]
        MailServers --&gt; [*]
        LoginPages --&gt; [*]
    }

    state InfrastructureDev {
        SpinUpServices : Spin up Services
        PointDomains : Point Domains
        StaticSite : Static Site

        [*] --&gt; SpinUpServices
        SpinUpServices --&gt; PointDomains
        SpinUpServices --&gt; Modlishka
        SpinUpServices --&gt; Gophish
        SpinUpServices --&gt; StaticSite
        Modlishka --&gt; [*]
        Gophish --&gt; [*]
        StaticSite --&gt; [*]
        PointDomains --&gt; [*]
    }

    state CampaignDevelopment {

        [*] --&gt; EmailTemplates
        [*] --&gt; PayloadCreation
        EmailTemplates --&gt; TestCampaigns
        PayloadCreation --&gt; TestCampaigns
        TestCampaigns --&gt; [*]
    }

    state Test {
        [*] --&gt; SendTestEmail
        SendTestEmail --&gt; TestCredHarvesting
        TestCredHarvesting --&gt; TestPayload
        TestPayload --&gt; [*]
    }

    state Phish {
        [*] --&gt; ScheduleCampaign
        ScheduleCampaign --&gt; WaitForCreds
        ScheduleCampaign --&gt; WaitForCallback
        WaitForCreds --&gt; TakeOverSession
        TakeOverSession --&gt; AuthenticatedPostExploitation
        WaitForCallback --&gt; InternalPostExploitation
        InternalPostExploitation --&gt; [*]
        AuthenticatedPostExploitation --&gt; [*]
    }</pre></div><div class=td-content style=page-break-before:always><h1 id=pg-4ba4d4a3d8be7f13459047fc673e1ea7>Curl Resolve DNS through Proxy</h1><div class="td-byline mb-4"><time datetime=2021-02-17 class=text-body-secondary>Wednesday, February 17, 2021</time></div><p>If you append <code>h</code> to your socks5 protocol prefix when using <code>--proxy</code> the DNS resolution happens on the other side of the socks proxy!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl --proxy socks5h://127.0.0.1:1080 http://internal-host
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-ea88254750b3d18a1b10c9e34d6327b6>Cloud metadata URLs</h1><div class="td-byline mb-4"><time datetime=2020-01-30 class=text-body-secondary>Thursday, January 30, 2020</time></div><h3 id=alibaba>Alibaba<a class=td-heading-self-link href=#alibaba aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://100.100.100.200/latest/meta-data/
</span></span><span class=line><span class=cl>http://100.100.100.200/latest/meta-data/instance-id
</span></span><span class=line><span class=cl>http://100.100.100.200/latest/meta-data/image-id
</span></span></code></pre></div><p><strong>References</strong></p><ul><li><a href=https://www.alibabacloud.com/help/faq-detail/49122.htm>https://www.alibabacloud.com/help/faq-detail/49122.htm</a></li></ul><hr><h3 id=aws>AWS<a class=td-heading-self-link href=#aws aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://169.254.169.254/latest/user-data
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/user-data/iam/security-credentials/[ROLE NAME]
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/meta-data/iam/security-credentials/
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/meta-data/iam/security-credentials/[ROLE NAME]
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/meta-data/ami-id
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/meta-data/reservation-id
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/meta-data/hostname
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/meta-data/public-keys/0/openssh-key
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/meta-data/public-keys/[ID]/openssh-key
</span></span><span class=line><span class=cl>http://169.254.169.254/
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/meta-data/
</span></span><span class=line><span class=cl>http://169.254.169.254/latest/meta-data/public-keys/
</span></span></code></pre></div><h4 id=ecs-task>ECS Task<a class=td-heading-self-link href=#ecs-task aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://169.254.170.2/v2/credentials/
</span></span></code></pre></div><p><strong>References</strong></p><ul><li><a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html#instancedata-data-categories>http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html#instancedata-data-categories</a></li><li><a href=https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint-v2.html>https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint-v2.html</a></li></ul><hr><h3 id=azure>Azure<a class=td-heading-self-link href=#azure aria-label="Heading self-link"></a></h3><h4 id=no-header-required>No header Required<a class=td-heading-self-link href=#no-header-required aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://169.254.169.254/metadata/v1/maintenance
</span></span></code></pre></div><h4 id=requires-header>Requires header<a class=td-heading-self-link href=#requires-header aria-label="Heading self-link"></a></h4><p>Must use <code>Metadata: true</code> request header</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://169.254.169.254/metadata/instance?api-version=2017-04-02
</span></span><span class=line><span class=cl>http://169.254.169.254/metadata/instance/network/interface/0/ipv4/ipAddress/0/publicIpAddress?api-version=2017-04-02&amp;format=text
</span></span></code></pre></div><p><strong>References</strong></p><ul><li><a href=https://azure.microsoft.com/en-us/blog/what-just-happened-to-my-vm-in-vm-metadata-service/>https://azure.microsoft.com/en-us/blog/what-just-happened-to-my-vm-in-vm-metadata-service/</a></li><li><a href=https://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service>https://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service</a></li></ul><hr><h3 id=google-cloud>Google Cloud<a class=td-heading-self-link href=#google-cloud aria-label="Heading self-link"></a></h3><h4 id=requires-header-1>Requires header<a class=td-heading-self-link href=#requires-header-1 aria-label="Heading self-link"></a></h4><p><strong>Must use one of the following headers</strong></p><ul><li><code>Metadata-Flavor: Google</code></li><li><code>X-Google-Metadata-Request: True</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://169.254.169.254/computeMetadata/v1/
</span></span><span class=line><span class=cl>http://metadata.google.internal/computeMetadata/v1/
</span></span><span class=line><span class=cl>http://metadata/computeMetadata/v1/
</span></span><span class=line><span class=cl>http://metadata.google.internal/computeMetadata/v1/instance/hostname
</span></span><span class=line><span class=cl>http://metadata.google.internal/computeMetadata/v1/instance/id
</span></span><span class=line><span class=cl>http://metadata.google.internal/computeMetadata/v1/project/project-id
</span></span><span class=line><span class=cl>http://metadata.google.internal/computeMetadata/v1/instance/disks/?recursive=true
</span></span></code></pre></div><h4 id=no-header-required-old>No header required (old)<a class=td-heading-self-link href=#no-header-required-old aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://metadata.google.internal/computeMetadata/v1beta1/
</span></span></code></pre></div><p><strong>References</strong></p><ul><li><a href=https://cloud.google.com/compute/docs/metadata>https://cloud.google.com/compute/docs/metadata</a></li></ul><hr><h3 id=digital-ocean>Digital Ocean<a class=td-heading-self-link href=#digital-ocean aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://169.254.169.254/metadata/v1.json
</span></span><span class=line><span class=cl>http://169.254.169.254/metadata/v1/
</span></span><span class=line><span class=cl>http://169.254.169.254/metadata/v1/id
</span></span><span class=line><span class=cl>http://169.254.169.254/metadata/v1/user-data
</span></span><span class=line><span class=cl>http://169.254.169.254/metadata/v1/hostname
</span></span><span class=line><span class=cl>http://169.254.169.254/metadata/v1/region
</span></span><span class=line><span class=cl>http://169.254.169.254/metadata/v1/interfaces/public/0/ipv6/address
</span></span></code></pre></div><p><strong>References</strong></p><ul><li><a href=https://developers.digitalocean.com/documentation/metadata/>https://developers.digitalocean.com/documentation/metadata/</a></li></ul><hr><h3 id=hp-helion>HP Helion<a class=td-heading-self-link href=#hp-helion aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://169.254.169.254/2009-04-04/meta-data/
</span></span></code></pre></div><hr><h3 id=kubernetes>Kubernetes<a class=td-heading-self-link href=#kubernetes aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://kubernetes.default
</span></span><span class=line><span class=cl>https://kubernetes.default.svc.cluster.local
</span></span><span class=line><span class=cl>https://kubernetes.default.svc/metrics
</span></span></code></pre></div><p><strong>References</strong></p><ul><li><a href=https://twitter.com/Random_Robbie/status/1072242182306832384>https://twitter.com/Random_Robbie/status/1072242182306832384</a></li><li><a href=https://kubernetes.io/docs/tasks/debug-application-cluster/debug-service/>https://kubernetes.io/docs/tasks/debug-application-cluster/debug-service/</a></li></ul><hr><h3 id=openstackrackspace>OpenStack/RackSpace<a class=td-heading-self-link href=#openstackrackspace aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://169.254.169.254/openstack
</span></span></code></pre></div><p><strong>References</strong></p><ul><li><a href=https://docs.openstack.org/nova/latest/user/metadata-service.html>https://docs.openstack.org/nova/latest/user/metadata-service.html</a></li></ul><hr><h3 id=oracle-cloud>Oracle Cloud<a class=td-heading-self-link href=#oracle-cloud aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http://192.0.0.192/latest/
</span></span><span class=line><span class=cl>http://192.0.0.192/latest/user-data/
</span></span><span class=line><span class=cl>http://192.0.0.192/latest/meta-data/
</span></span><span class=line><span class=cl>http://192.0.0.192/latest/attributes/
</span></span></code></pre></div><p><strong>References</strong></p><ul><li><a href=https://docs.oracle.com/en/cloud/iaas/compute-iaas-cloud/stcsg/retrieving-instance-metadata.html>https://docs.oracle.com/en/cloud/iaas/compute-iaas-cloud/stcsg/retrieving-instance-metadata.html</a></li></ul><hr><h3 id=packetcloud>Packetcloud<a class=td-heading-self-link href=#packetcloud aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://metadata.packet.net/userdata
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-200f4fd023d281e4dc885a54d7065b1b>PfSense and SELKS</h1><div class="td-byline mb-4"><time datetime=2019-04-23 class=text-body-secondary>Tuesday, April 23, 2019</time></div><p>I installed <a href=https://www.stamus-networks.com/2017/08/22/selks-4-0/>SELKS</a> this in a VM. I am using Fedora Server (which
I kind of regret because of the updates).</p><p>Once installed I went to my PfSense firewall admin interface, to bridge LAN and WAN to a 3rd interface (
OPT1). <a href=https://www.techdodo.co.uk/adding-span-port-pfsense>ref</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>                   WAN
</span></span><span class=line><span class=cl>                   +
</span></span><span class=line><span class=cl>                   |
</span></span><span class=line><span class=cl>                   |
</span></span><span class=line><span class=cl>    +--------------v----------------+
</span></span><span class=line><span class=cl>    |                               |
</span></span><span class=line><span class=cl>    |                               |
</span></span><span class=line><span class=cl>    |           PfSense             |
</span></span><span class=line><span class=cl>    |                               |
</span></span><span class=line><span class=cl>    |                               |
</span></span><span class=line><span class=cl>    |                               |
</span></span><span class=line><span class=cl>    +---+--------------------+------+
</span></span><span class=line><span class=cl>        |                    |
</span></span><span class=line><span class=cl>        |                    |
</span></span><span class=line><span class=cl>        |                    |
</span></span><span class=line><span class=cl>        v                    v
</span></span><span class=line><span class=cl>       LAN                  OPT1
</span></span><span class=line><span class=cl>                   (to SELKS Monitor port)
</span></span></code></pre></div><h3 id=pfsense-logs-in-selks-kibana>PfSense logs in SELKS kibana<a class=td-heading-self-link href=#pfsense-logs-in-selks-kibana aria-label="Heading self-link"></a></h3><p>I used some files from <a href=https://github.com/patrickjennings/logstash-pfsense>here</a>, then
enabled <a href=https://docs.netgate.com/pfsense/en/latest/monitoring/copying-logs-to-a-remote-host-with-syslog.html>log forwarding in pfsense</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-bedcd0bf481611e391cd63b36eceee65>Anyproxy Intercept</h1><div class="td-byline mb-4"><time datetime=2019-03-11 class=text-body-secondary>Monday, March 11, 2019</time></div><p>Anyproxy is an intercept proxy. I used it to inject scripts into pages to assist in web fuzzing.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>AnyProxy</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./anyproxy/proxy&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>port</span><span class=o>:</span> <span class=mi>8080</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>rule</span><span class=o>:</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./dfkt_rule&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>webInterface</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>enable</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>webPort</span><span class=o>:</span> <span class=mi>8002</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>throttle</span><span class=o>:</span> <span class=mi>10000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>forceProxyHttps</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>wsIntercept</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>silent</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>proxyServer</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>AnyProxy</span><span class=p>.</span><span class=nx>ProxyServer</span><span class=p>(</span><span class=nx>options</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>proxyServer</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;ready&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;ready&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>proxyServer</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;error&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>proxyServer</span><span class=p>.</span><span class=nx>start</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//when finished
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// dfkt_rule
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>hooks</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>beforeSendRequest</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=kd>function</span> <span class=p>(</span><span class=nx>requestDetail</span><span class=p>,</span> <span class=nx>requestDetailModifications</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>requestDetailModifications</span><span class=p>.</span><span class=nx>requestOptions</span> <span class=o>=</span> <span class=nx>requestDetail</span><span class=p>.</span><span class=nx>requestOptions</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=nx>requestDetailModifications</span><span class=p>.</span><span class=nx>requestOptions</span><span class=p>.</span><span class=nx>headers</span><span class=p>[</span><span class=s1>&#39;User-Agent&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=s1>&#39; DFKT/1&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>beforeSendResponse</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=kd>function</span> <span class=p>(</span><span class=nx>requestDetail</span><span class=p>,</span> <span class=nx>responseDetail</span><span class=p>,</span> <span class=nx>modifiedResponse</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nx>modifiedResponse</span><span class=p>.</span><span class=nx>response</span> <span class=o>=</span> <span class=nx>responseDetail</span><span class=p>.</span><span class=nx>response</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>modifiedResponse</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>header</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>modifiedResponse</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=s1>&#39;&lt;head&gt;&#39;</span><span class=p>)</span> <span class=o>!==</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>modifiedResponse</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>body</span> <span class=o>=</span> <span class=nx>modifiedResponse</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>toString</span><span class=p>().</span><span class=nx>replace</span><span class=p>(</span><span class=s1>&#39;&lt;head&gt;&#39;</span><span class=p>,</span> <span class=s1>&#39;&lt;head&gt;&lt;script&gt;console.log(&#34;dfkt loaded&#34;)&lt;/script&gt;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>summary</span><span class=o>:</span> <span class=s1>&#39;DFKT rules for web testing&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>*</span> <span class=nx>beforeSendRequest</span><span class=p>(</span><span class=nx>requestDetail</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>requestDetailModifications</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>hook</span> <span class=k>in</span> <span class=nx>hooks</span><span class=p>.</span><span class=nx>beforeSendRequest</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>hooks</span><span class=p>.</span><span class=nx>beforeSendRequest</span><span class=p>[</span><span class=nx>hook</span><span class=p>](</span><span class=nx>requestDetail</span><span class=p>,</span> <span class=nx>requestDetailModifications</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>requestDetailModifications</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// deal response before send to client
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>*</span> <span class=nx>beforeSendResponse</span><span class=p>(</span><span class=nx>requestDetail</span><span class=p>,</span> <span class=nx>responseDetail</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>responseDetailModifications</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>hook</span> <span class=k>in</span> <span class=nx>hooks</span><span class=p>.</span><span class=nx>beforeSendResponse</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>hooks</span><span class=p>.</span><span class=nx>beforeSendResponse</span><span class=p>[</span><span class=nx>hook</span><span class=p>](</span><span class=nx>requestDetail</span><span class=p>,</span> <span class=nx>responseDetail</span><span class=p>,</span> <span class=nx>responseDetailModifications</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>responseDetailModifications</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// // if deal https request
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// *beforeDealHttpsRequest(requestDetail) {
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// },
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// error happened when dealing requests
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>*</span> <span class=nx>onError</span><span class=p>(</span><span class=nx>requestDetail</span><span class=p>,</span> <span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=c1>// error happened when connect to https server
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>*</span> <span class=nx>onConnectError</span><span class=p>(</span><span class=nx>requestDetail</span><span class=p>,</span> <span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-e89abb39cf9e3bca4bbf008f0d5b30b9>Random shell scripting things I may use in the future</h1><div class="td-byline mb-4"><time datetime=2019-03-01 class=text-body-secondary>Friday, March 01, 2019</time></div><p>Mass move:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> f in wlog/*<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> ff in <span class=nv>$f</span>/*<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    cp <span class=s2>&#34;</span><span class=nv>$ff</span><span class=s2>&#34;</span>  <span class=k>$(</span>basename <span class=nv>$f</span><span class=k>)</span>-<span class=k>$(</span>basename <span class=nv>$ff</span> <span class=p>|</span> sed <span class=s1>&#39;s/^00-//g&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;s/ /-/g&#39;</span><span class=k>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>done</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><p>Mass Find and replace:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> f in *todo*<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  cat <span class=nv>$f</span> <span class=p>|</span> sed -e <span class=s1>&#39;s/## &#39;</span><span class=k>$(</span>basename <span class=nv>$f</span> <span class=p>|</span> sed <span class=s1>&#39;s/-stand-up-notes.md//&#39;</span><span class=k>)</span><span class=s1>$&#39;/---\\\ndate: &#34;2019-03-01T16:20:01&#34;
</span></span></span><span class=line><span class=cl><span class=s1>title: &#39;</span><span class=k>$(</span>basename <span class=nv>$f</span> <span class=p>|</span> sed <span class=s1>&#39;s/-stand-up-notes.md//&#39;</span><span class=k>)</span><span class=s1>$&#39; stand up notes\\\n---&#39;</span>/  <span class=p>|</span> tee <span class=nv>$f</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><p>Mass adjust markdown headers:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>find . -name <span class=s1>&#39;*.md&#39;</span> <span class=p>|</span> <span class=k>while</span> <span class=nb>read</span> f<span class=p>;</span> <span class=k>do</span> cat <span class=nv>$f</span> <span class=p>|</span> egrep <span class=s1>&#39;^##\s&#39;</span> &gt; /dev/null <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=nv>$f</span><span class=p>;</span> <span class=k>done</span> <span class=p>|</span> <span class=k>while</span> <span class=nb>read</span> fn<span class=p>;</span> <span class=k>do</span> cat <span class=nv>$fn</span> <span class=p>|</span> sed <span class=s1>&#39;s/^##/###/g&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;s/^#\s/## /g&#39;</span> <span class=p>|</span> tee <span class=nv>$fn</span><span class=p>;</span> <span class=k>done</span>
</span></span></code></pre></div><p>Create temp directory:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>tmpDir</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span>mktemp -d -t tmpdirname.XXXXXXXXXX <span class=o>||</span> oops <span class=s2>&#34;Can&#39;t create temporary directory&#34;</span><span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>cleanup<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    rm -rf <span class=s2>&#34;</span><span class=nv>$tmpDir</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=nb>trap</span> cleanup EXIT INT QUIT TERM
</span></span></code></pre></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="Bugcrwod Profile" aria-label="Bugcrwod Profile"><a target=_blank rel=noopener href=https://bugcrowd.com/defektive aria-label="Bugcrwod Profile"><i class="fa fa-bug"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=LinkedIn aria-label=LinkedIn><a target=_blank rel=noopener href=https://www.linkedin.com/in/dfktv/ aria-label=LinkedIn><i class="fab fa-linkedin"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/defektive aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2018&ndash;2025
<span class=td-footer__authors>Brad Horrocks | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script src=/js/main.min.276ad15862714495adc02884372add16301fd430b52e56b0cbe6d9c0275e70a4.js integrity="sha256-J2rRWGJxRJWtwCiENyrdFjAf1DC1Llawy+bZwCdecKQ=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>